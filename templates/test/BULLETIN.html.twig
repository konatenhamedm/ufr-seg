<!DOCTYPE html>
<html>

<head>
    <title>{# {{ code =='a' ? 'AVOIR': 'FACTURE' }} {{ facture.numero }} #}dd</title>
    <style>
        {
            % block page_css %
        }

        @page {

            margin-footer: 0.5cm;

            /*header: html_headerContent;*/
            footer: html_pageFooter;
            margin-top: 0.5cm;
            margin-header: 0cm;

            /*background: ...
  background-image: ...
  background-position ...
  background-repeat ...
  background-color ...
  background-gradient: ...*/
        }

        .clearfix:after,
        {
        % endblock %
        }

        .clearfix:before {
            content: " ";
            display: table;
        }

        .clearfix:after {
            clear: both;
        }

        .mention {
            position: absolute;
            bottom: 100px;
        }

        /*@page :first {
   header: html_headerContent;
}*/
        caption {
            margin-bottom: 15px;
        }

        fieldset {
            border: 1px solid #000 !important;
            margin: 0;
            xmin-width: 0;
            padding: 10px;
            position: relative;
            border-radius: 4px;
            background-color: #fff;
            padding-left: 10px !important;
        }

        legend {
            padding: 0 10px;
            margin-left: 100px;
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 0px;
            width: 35%;
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: #ffffff;
        }

        table {
            font-family: arial, sans-serif;
            border-collapse: collapse;
            width: 100%;
        }

        td,
        th {
            /* # border: 1px solid #dddddd; */
            text-align: left;
            padding: 8px;
        }

        tr:nth-child(even) {}

        @media all {
            /*.content { display: block; page-break-inside: avoid; }*/
        }

        .content {
            /*margin-top: 18cm;*/
        }

            {
            # .table-responsive.table-bordered {
                border: 0;
            }


        }

        .table-container {
            border: 1px solid #000;
            border-radius: 10px;

            padding: 10px;
        }

        .double_underline {
            text-decoration: underline;
            border-bottom: 1px solid #000;
            text-align: center;
        }

        .contenu {
            text-align: center;
            vertical-align: middle;
        }

        .gauche {
            text-align: left;
            vertical-align: middle;
        }

        .droit {
            text-align: right;
            vertical-align: middle;
        }

        .bordur-gauche {
            border-left: 1px solid #000;

        }

        .bordur-droit {
            border-right: 1px solid #000;

        }

        .bordur-haute {
            border-top: 1px solid #000;

        }

        .bordur-bas {
            border-bottom: 1px solid #000;

        }

        .bordur-tout {
            border: 1px solid #000;

        }

        .flex-container {
            display: flexbox;
            justify-content: center;
            /* Centre les éléments horizontalement */
            align-items: center;
            /* Centre les éléments verticalement */
            gap: 20px;
            /* Espace entre les éléments */
        }

        .flex-item {
            text-align: center;
            padding: 10px;
            border: 1px solid #000;
            border-radius: 5px;
        }
    </style>
</head>

<body style="font-size:12px;">
<div class="clearfix">
        <div style="width:10%;text-align:left;float:left;" class="">
            {% set var = "uploads/" ~ 'media_etudiant' ~"/"~ 'lg.jpeg' %}
            {# <img src="{{ var |replace({'/': " \\"}) }}" width="100px" /> #}
                    <img src="{{ var |replace({'/': "\\"}) }}" width="100px" height="60px"/>

            {# <img src="{{ absolute_url(asset(var)) }}" width="100px" /> #}
            {# <div style="text-align:left;border: 1px solid #000;padding:8px;width:70%" class="">
                CC N° 9904215 D<br>
                Régime d'imposition: Réel Normal<br>
                Centre des impôts: D G E<br>
            </div>
            {{ "facture.typeFacture.libelle" | upper }} N° {{ 'facture.numero' }} #}
        </div>

        <div style="width:65%;text-align:right;float:center;">
            <div style="text-align:center;" class="">
                <b>UFR-SEG</b><br>
                BP V 43 ABIDJAN ,TEL :01 01 15 44 44 ufrseg-filierespro-ufhb.ci <br>
                Abidjan-Cocody
                <div style="border-top:1px solid #000"></div>
            </div>

        </div>
        <div style="width:25%;text-align:right;float:right;margin-top:0px,padding:8px">

            <div style="text-align:center;margin-top:-45px" class="">
                République de COTE D'IVOIRE <br>
                <span style="text-decoration: underline;">Union - Discipline - Travail</span> <br>
                <b style="font-weight: bolder;">Année scolaire : 2021-2022</b>
            </div>

        </div>
    </div>
    <br>
    <br>
    <br>
   {#  {% for key,semetre in 1..2 %} #}
{# 
{% if key == 1 %}
     <div style="page-break-after: always;">
     </div>
     <div class="clearfix">
        <div style="width:10%;text-align:left;float:left;" class="">
            {% set var = "uploads/" ~ 'media_etudiant' ~"/"~ 'lg.jpeg' %}
            <img src="https://tse3.mm.bing.net/th?id=OIP.UqXnC0ih7H54cZhWfjrr-QHaHa&pid=Api&P=0&h=180" width="100px" />
           
        </div>

        <div style="width:65%;text-align:right;float:center;">
            <div style="text-align:center;" class="">
                <b>UFR-SEG</b><br>
                BP V 43 ABIDJAN ,TEL :01 01 15 44 44 ufrseg-filierespro-ufhb.ci <br>
                Abidjan-Cocody
                <div style="border-top:1px solid #000"></div>
            </div>

        </div>
        <div style="width:25%;text-align:right;float:right;margin-top:0px,padding:8px">

            <div style="text-align:center;margin-top:-45px" class="">
                République de COTE D'IVOIRE <br>
                <span style="text-decoration: underline;">Union - Discipline - Travail</span> <br>
                <b style="font-weight: bolder;">Année scolaire : 2021-2022</b>
            </div>

        </div>
    </div>
    <br>
    <br>
    <br>
{% endif %} #}
     <form action="/action_page.php">
        <table style="margin-top:-40px ">

            <tr style=" border: 0px !important;">

                <th class="contenu" style="width:60%; border: 0px !important;">

                    <div align="center"
                        style="align: center; font-size: 24px; background-color: #beb7b7; box-shadow: 2px 2px 10px 10px rgba(0, 0, 0, 0.5); border: 3px solid rgb(255, 255, 255);"
                        class="text-center">
                        BULLETIN DE NOTES
                    </div>



                </th>
            </tr>




        </table>
        <div class="content">

            <div class="table-container " style="display: flex;padding: 0px;">
                <table class="details">
                    <tr>
                        <td colspan="2" class=" table-container contenu "
                            style="width: 100%;height: 20px; border-bottom: 1px solid #000; border-left: 0px solid #000;border-top: 0px solid #000;border-right: 0px solid #000; ">
                            <strong>{{classeData.niveau.libelle}}</strong>
                        </td>

                    </tr>

                    <tr>
                        <td class="contenu" style="width: 50%; border: 0px solid #000;"><strong>Classe :</strong>
                            {{classeData.libelle}}</td>
                        <td class="contenu" style="width: 50%;border: 0px solid #000;"><strong>Effectif :</strong> {{effectif}}
                        </td>
                    </tr>

                </table>

            </div>

            <br>
            <table class="details">
                <tr>
                    <td colspan="6" style="width: 70%;  border-left: 1px solid #000; border-right: 1px solid #000;border-top: 1px solid #000;"
                        class="contenu"><strong>Nom et Prénoms:</strong> {{etudiantData.nom}}  {{etudiantData.prenom}}</td>
                    <td style="width: 30%; border-right: 1px solid #000;border-top: 1px solid #000;" class="contenu"><strong>Sexe :</strong> {{etudiantData.genre.libelle}}</td>
                </tr>
               
                <tr>
                    <td colspan="6"
                        style="width: 70%;  border-left: 1px solid #000;  border-right: 1px solid #000;border-bottom: 1px solid #000;"
                        class="contenu"><strong>Né le :</strong> {{etudiantData.dateNaissance | date('d/m/Y')}} à {{etudiantData.lieuNaissance}}</td>
                    <td style="width: 30%; border-right: 1px solid #000;border-bottom: 1px solid #000;" class="contenu">
                        <strong>Promotion :   {{classeData.niveau.promotion ? classeData.niveau.promotion.libelle : ""}} </strong>
                    </td>
                </tr>
                <tr style="background-color: #dddddd">
                    <td style=" width: 40%; border-left: 1px solid #000;  border-right: 1px solid #000;border-bottom: 1px solid #000; padding: 0px;"
                        class="contenu"><strong>ECUE</strong></td>
                    <td style="width: 5%; border-right: 1px solid #000;border-bottom: 1px solid #000;" class="contenu">
                        <strong>Moy/20</strong>
                    </td>
                    <td style=" width: 5%; border-left: 1px solid #000;  border-right: 1px solid #000;border-bottom: 1px solid #000;"
                        class="contenu"><strong>Crédits</strong></td>
                    <td style="width: 5%; border-right: 1px solid #000;border-bottom: 1px solid #000;" class="contenu">
                        <strong>Validé</strong>
                    </td>
                    <td style="width: 5%;  border-left: 1px solid #000;  border-right: 1px solid #000;border-bottom: 1px solid #000;"
                        class="contenu"> <strong>Rang</strong></td>
                    <td style=" width: 10%; border-right: 1px solid #000;border-bottom: 1px solid #000;"
                        class="contenu">
                        Appréciations
                    </td>
                    <td style="width: 30%; border-right: 1px solid #000;border-bottom: 1px solid #000;" class="contenu">
                        <strong>Enseignants </strong>
                    </td>
                </tr>
                <tr >
                 <td  colspan="7" style="width: 5%;  border-left: 0px solid #000;  border-right: 0px solid #000;border-bottom: 1px solid #000;"
                        class="contenu"> 

                        </td>
                </tr>
                {% for semestre in semestres %}
                    <tr style="background-color: #646464;text-align:center;"  class="contenu">
                    <td colspan="7" class="contenu" style="width: 5%;  border-left: 1px solid #646464;  border-right: 1px solid #646464;">
                            <h3 style="background-color: #646464;text-align:center;">
                     {% if semestre.numero == 1 %}
                            PREMIER
                        {% else %}
                        DEUXIEME
                        {% endif %} 
                
                SEMESTRE</h3> 
                        </td>
                    </tr>

                      {% set nbreT = 0 %}
                        {% set sommeT = 0 %}
                    {% for ue in menu.getAllUeByClasse(classe,semestre.id) %}
                        <tr style="background-color: #dddddd">
                                    <td colspan="6"
                                        style="width: 70%;border-top: 1px solid #000; border-left: 1px solid #000;  border-right: 0px solid #000;border-bottom: 1px solid #000;">
                                        {{ue.codeUe}} : {{ue.libelle}}</td>

                                    <td
                                        style="width: 30%; border-top: 1px solid #000; border-left: 0px solid #000;  border-right: 1px solid #000;border-bottom: 1px solid #000;">
                                        Nombre de crédits : {{ue.coef }}</td>
                                </tr>

                                 {% set somme = 0 %}
                                {% set nbre = 0 %}

                                {% for matiere in menu.getAllMatiereByUeByEtudiant(ue.ueId,etudiant) %}
                                
                                <tr>
                                    <td
                                        style="width: 40%;border-top: 1px solid #000; border-left: 1px solid #000;  border-right: 1px solid #000;border-bottom: 1px solid #000;" class="contenu">
                                        {{matiere.matiere.libelle}}</td>
                                    <td style="width: 5%;border-top: 1px solid #000; border-left: 1px solid #000;  border-right: 1px solid #000;border-bottom: 1px solid #000;" class="contenu">
                                        {{matiere.moyenne}}&nbsp;</td>
                                    <td style="width: 5%;border-top: 1px solid #000; border-left: 1px solid #000;  border-right: 1px solid #000;border-bottom: 1px solid #000;" class="contenu">
                                        </td>
                                    <td style="width: 5%;border-top: 1px solid #000; border-left: 1px solid #000;  border-right: 1px solid #000;border-bottom: 1px solid #000;" class="contenu">
                                        {{matiere.moyenne >= menu.getUeMatiere(matiere.matiere.id,ue.ueId).moyenneValidation ? 'Oui':'Non'}}</td>
                                    <td
                                        style="width: 5%;border-top: 1px solid #000; border-left: 1px solid #000;  border-right: 1px solid #000;border-bottom: 1px solid #000;" class="contenu">
                                        {{menu.getRangInfo(ue.id,etudiant).rang }}{{menu.getRangInfo(ue.id,etudiant).exposant }}</td>
                                    <td width="10%"
                                        style="width: 10%;border-top: 1px solid #000; border-left: 1px solid #000;  border-right: 1px solid #000;border-bottom: 1px solid #000;" class="contenu">
                                        
                                        2</td>
                                    <td
                                        style="width: 30%;border-top: 1px solid #000; border-left: 1px solid #000;  border-right: 1px solid #000;border-bottom: 1px solid #000;" class="contenu">
                                        {{menu.getCoursMatiereClasse(matiere.matiere.id,classe).employe.nom}} {{menu.getCoursMatiereClasse(matiere.matiere.id,classe).employe.prenom}} </td>

                                </tr>
                                {% set somme = somme + matiere.moyenne %}
                                {% set nbre = nbre + 1%}
                            {% endfor %}
                            {% set sommeT = sommeT + somme %}
                            {% set nbreT = nbreT + nbre %}
                                <tr style="background-color: #dddddd">
                                    <td class="contenu"
                                        style="width: 40%;border-top: 1px solid #000; border-left: 1px solid #000;  border-right: 1px solid #000;border-bottom: 1px solid #000;" class="contenu">
                                        Bilan {{ue.codeUe}}</td>
                                    <td
                                        style="width: 5%;border-top: 1px solid #000; border-left: 1px solid #000;  border-right: 1px solid #000;border-bottom: 1px solid #000;" class="contenu">
                                        {{somme/nbre}}</td>
                                    <td
                                        style="width: 5%;border-top: 1px solid #000; border-left: 1px solid #000;  border-right: 1px solid #000;border-bottom: 1px solid #000;" class="contenu">
                                        22</td>
                                    <td
                                        style="width: 5%;border-top: 1px solid #000; border-left: 1px solid #000;  border-right: 1px solid #000;border-bottom: 1px solid #000;" class="contenu">
                                        Non</td>
                                    <td
                                        style="width: 5%;border-top: 1px solid #000; border-left: 1px solid #000;  border-right: 1px solid #000;border-bottom: 1px solid #000;" class="contenu">
                                        2</td>
                                    <td class="contenu"
                                        style="width: 20%;border-top: 1px solid #000; border-left: 1px solid #000;  border-right: 0px solid #000;border-bottom: 1px solid #000;" class="contenu">
                                        Crédits : 12 </td>
                                    <td class="contenu"
                                        style="width: 20%;border-top: 1px solid #000; border-left: 0px solid #000;  border-right: 1px solid #000;border-bottom: 1px solid #000;" class="contenu">
                                        Crédits requis : 16 </td>

                                </tr>

                    {% endfor %}
                     {% set moy = sommeT/nbreT %}
                       <tr style="background-color:#c8c8c8;">
                                    <th class="contenu" colspan="5" style="width: 60%;border-top: 1px solid #000; border-left: 1px solid #000;  border-right: 1px solid #000;border-bottom: 1px solid #000;">Moyenne générale {{semestre.numero == 1 ? "1er":"2eme"}} Semestre :
                                        {{moy}} / 20</th>

                                    <th class="contenu" style="width: 20%;border-top: 1px solid #000; border-left: 1px solid #000;  border-right: 1px solid #000;border-bottom: 1px solid #000;">Rang : er / {{effectif}} </th>
                                    <th class="contenu" style="width: 20%;border-top: 1px solid #000; border-left: 1px solid #000;  border-right: 1px solid #000;border-bottom: 1px solid #000;">1/3 UE Validées </th>

                                </tr>
                {% endfor %}
            </table>
          

    <htmlpagefooter name="pageFooter">
       {#  <table style="width:100%">
          <tr>
            <td style="width:50%;text-align:left;padding-bottom:8px">
              <i><b>Client</b></i>
            </td>
            <td style="width:50%;text-align:right">
              <i><b>Souche</b></i>
            </td> secretariat@ufrseg-filierespro-ufhb.ci
          </tr>
        </table> #}
        <div style="border-top:2px solid #000"></div>
       <p  align="center" style="align: center;margin-top:-1px">
        UFHB/UFRSEG  BP V43 ABIDJAN EMAIL: 
        <a href="mailto:secretariat@ufrseg-filierespro-ufhb.ci">secretariat@ufrseg-filierespro-ufhb.ci</a><br>
        TEL : 01 01 15 44 44
       </p>
    </htmlpagefooter>
{# 
     {% endfor %}  #}
 
   

</body>

</html>