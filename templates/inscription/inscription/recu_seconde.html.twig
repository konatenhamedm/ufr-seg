{# {% set code =facture.typeFacture.code(true) %} #}
<!DOCTYPE html>
<html>
  <head>
    <title>{# {{ code =='a' ? 'AVOIR': 'FACTURE' }} {{ facture.numero }} #}dd</title>
    <style>
      {% block page_css %}
        @page {

          margin-footer: 0.5cm;

          /*header: html_headerContent;*/
          footer: html_pageFooter;
          margin-top: 0.5cm;
          margin-header: 0cm;
         
          /*background: ...
  background-image: ...
  background-position ...
  background-repeat ...
  background-color ...
  background-gradient: ...*/
        }
        .clearfix:after,
        {% endblock %} .clearfix:before {
          content: " ";
          display: table;
        }

        .clearfix:after {
          clear: both;
        }

        .mention {
  position: absolute;
  bottom: 100px;
}

        /*@page :first {
   header: html_headerContent;
}*/
caption{
  margin-bottom: 15px;
}
      fieldset 
	{
		border: 1px solid #000 !important;
		margin: 0;
		xmin-width: 0;
		padding: 10px;       
		position: relative;
		border-radius:4px;
		background-color:#fff;
		padding-left:10px!important;
	}	
	
		legend
		{
       padding: 0 10px; 
      margin-left: 100px;
			font-size:14px;
			font-weight:bold;
			margin-bottom: 0px; 
			width: 35%; 
			border: 1px solid #ddd;
			border-radius: 4px; 
			background-color: #ffffff;
		}

        table {
  font-family: arial, sans-serif;
  border-collapse: collapse;
  width: 100%;
}

td, th {
  border: 1px solid #dddddd;
  text-align: left;
  padding: 8px;
}

tr:nth-child(even) {
  
}
        @media all {
          /*.content { display: block; page-break-inside: avoid; }*/
        }

        .content {
          /*margin-top: 18cm;*/
        }

        {# .table-responsive.table-bordered {
          border: 0;
        } #}

        .double_underline {
            text-decoration:underline;
            border-bottom: 1px solid #000;
            text-align: center;
        }
    </style>
  </head>
  <body style="font-size:12px;">
    <div class="clearfix">
     <div style="width:10%;text-align:left;float:left;"  class="">
     {% set var = "uploads/" ~ 'media_etudiant' ~"/"~ 'lg.jpeg' %}
        <img src="{{ var |replace({'/': "\\"}) }}" width="100px" />
        {# <img src="{{ absolute_url(asset(var)) }}" width="100px" /> #}
       {#  <div style="text-align:left;border: 1px solid #000;padding:8px;width:70%"  class="">
              CC N° 9904215 D<br>
              Régime d'imposition: Réel Normal<br>
              Centre des impôts: D G E<br>
        </div>
        {{ "facture.typeFacture.libelle" | upper }} N° {{ 'facture.numero' }} #}
      </div>
     
       <div style="width:65%;text-align:right;float:center;">
            <div style="text-align:center;"  class="">
                    <b>UFR-SEG</b><br>
                  22 BP 1484 Abidjan 2 - Tél : 27 22 49 60 49 - ufrseg@yahoo.com <br>
                  Abidjan-Cocody
               <div style="border-top:1px solid #000"></div>
              </div>
           
        </div>
       <div style="width:25%;text-align:right;float:right;margin-top:0px,padding:8px">

           <div style="text-align:center;margin-top:-45px"  class="">
                    République de COTE D'IVOIRE <br>
                <span style="text-decoration: underline;">Union - Discipline - Travail</span> <br>
               <b style="font-weight: bolder;">Année scolaire : 2021-2022</b>
              </div>
          
        </div>
    </div>
  

    <br>

 <form action="/action_page.php">
    <fieldset>
        <legend>Identification Étudiant</legend>
        <table style=" border: 0px !important;">
            
                  <tr style=" border: 0px !important;">
                    <th style=" border: 0px !important;">Code : {{ data.code }}</th>
                    <th style=" border: 0px !important;">Nom :{{ data.etudiant.nom }}</th>
                    <th style=" border: 0px !important;">Filière :{{ data.niveau.filiere.libelle }}</th>
                  </tr>
                  <tr style=" border: 0px !important;">
                    <td style=" border: 0px !important;">Date inscription :{{ data.dateInscription | date('d/m/Y') }}</td>
                    <td style=" border: 0px !important;">Prénoms :{{ data.etudiant.prenom  }}</td>
                    <td style=" border: 0px !important;">Niveau :{{ data.niveau.libelle }}</td>
                  </tr>
                
                 
          </table>
      </fieldset>
  </form>
   
<br/>

 <div class="clearfix">
 
       <div style="width:100%;">
         
            {# <div style="margin-top:-25px;text-align:center;bosrder: 1px solid #000;padding:8px;font-size:15px;font-weight:bold"  class=""> #}
               {# <b>DOIT</b><br><br> #}
              <table>
              <caption>
             
               <b>{{'Détail des versements' | upper}}</b><br>
              </caption> 
                  <tr style="background-color: #dddddd">
                    <th>N°</th>
                    <th>Date paiement</th>
                    <th>Mode paiement</th>
                    <th>Montant</th>
                  </tr>

                  {# {% for item in data.echeanciers|filter(v => v.etat == "payer") %} #}
                  {% for key,item in data.infoInscriptions|filter(v => v.etat == "payer")  %}
                     <tr>
                    <td>{{ key+1 }}</td>
                    <td>{{ item.datePaiement | date('d/m/Y')}}</td>
                    <td>{{ item.modePaiement.libelle }}</td>
                    <td class="text-end">{{ item.montant |number_format(0, '.', ' ') }}</td>
                   
                   
                  </tr>
                  {% endfor %}
                 
                  
                 
          </table>
           {#  </div> #}
        </div>
       </div>
</div>
<br><br>
 <div class="clearfix">
       <div style="width:50%;float:left;padding-right: 0px;">
         <table>
              <caption>
             
               <b>{{'Récapitulatifs des frais d\'écolage' | upper}}</b><br>
              </caption> 
                  <tr style="background-color: #dddddd">
                    <th>N°</th>
                    <th>Libelle</th>
                    <th>Montant à payer</th>
                   
                  </tr>

                  {# {% for item in data.echeanciers|filter(v => v.etat == "payer") %} #}
                  {% for key,item in data.niveau.frais %}
                     <tr>
                       <td>{{ key+1 }}</td>
                    <td>{{ item.typeFrais.libelle }}</td>
                    <td class="text-end">{{ item.montant |number_format(0, '.', ' ') }}</td>
                   
                   
                  </tr>
                  {% endfor %}
                 
                  
                 
          </table>
           
        </div>
       <div style="width:48%;float:right;">
         
            {# <div style="margin-top:-25px;text-align:center;bosrder: 1px solid #000;padding:8px;font-size:15px;font-weight:bold"  class=""> #}
               {# <b>DOIT</b><br><br> #}
              <table>
              <caption>
             
               <b>{{'échéancier de paiement' | upper}}</b><br>
              </caption> 
                  <tr style="background-color: #dddddd">
                    <th>N°</th>
                    <th>Date</th>
                    <th>Montant à payer</th>
                    <th>Montant versé</th>
                    <th>Solde</th>
                  </tr>

                  {# {% for item in data.echeanciers|filter(v => v.etat == "payer") %} #}
                  {% for key,item in data.echeanciers %}
                     <tr>
                       <td>{{ key+1 }}</td>
                    <td>{{ item.dateCreation | date('d/m/Y')}}</td>
                    <td class="text-end">{{ item.montant |number_format(0, '.', ' ') }}</td>
                    <td>{% if item.etat == 'payer' %}
                      {{ item.totaPayer |number_format(0, '.', ' ') }}
                    {% else %}
                      {{ item.totaPayer |number_format(0, '.', ' ') }}
                    {% endif %}</td>
                    <td>{% if item.etat == 'payer' %}
                        Soldé
                         {% elseif item.etat == 'attente_confirmation' %}
                        Attente confirmation
                    {% else %}
                        Non soldé
                    {% endif %}</td>
                   
                  </tr>
                  {% endfor %}
                 
                  
                 
          </table>
           {#  </div> #}
        </div>
       </div>
</div><br>

<p align="center" style="align: center;">Cher parent, sauf erreur ou omission de notre part, vous restez devoir la somme ci-dessus indiquée au titre des frais de scolarité de votre enfant. En conséquence, nous
vous prions de bien vouloir vous acquiter de ce montant le plus tôt possible. D'avance, nous vous remercions.</p>

<br>
  {# <div style="border-top:20px solid grey"></div><br> #}

</div>
    
    <htmlpagefooter name="pageFooter">
       {#  <table style="width:100%">
          <tr>
            <td style="width:50%;text-align:left;padding-bottom:8px">
              <i><b>Client</b></i>
            </td>
            <td style="width:50%;text-align:right">
              <i><b>Souche</b></i>
            </td>
          </tr>
        </table> #}
        <div style="border-top:2px solid #000"></div>
       <p  align="center" style="align: center;margin-top:-1px">
        N.B : Les montants déjà payés ne sont plus rembousables. Ils ne sont pas transférables non plus sur un autre élève. Merci de votre compréhension.
       </p>
    </htmlpagefooter>
  </body>
</html>